<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件委托</title>
</head>
<body>
    <button id = "btn1">新增</button>
    <ul id="ul1">
        <li>11</li>
        <li>22</li>
        <li>33</li>
        <li>44</li>
        <li>55</li>
        <li>66</li>
    </ul>
</body>
<script>
    /*
               委托：
                   A委托B去买饭。
                   A发布任务  委托方
                   B执行任务  代理方
           */
    /*
         事件委托实现步骤：
             1、找到当前节点的父节点或者祖先节点
             2、将事件添加到你找到的这个父节点或者祖先节点上
             3、找到触发对象，判断触发对象是否是想要的触发对象，进行后续的操作

         li委托ul将li变成红色

             1、浪费
             2、后添加的li节点没有点击事件
         【注】事件委托的原理是事件冒泡。
    */
    var oUl = document.getElementById("ul1");
    oUl.onclick = function (ev) {
        var event = ev || window.event;
        var target = event.target || window.event.srcElement; //获取目标对象
        //事件委托
        if (target.nodeName.toLowerCase() == 'li'){
            target.style.backgroundColor = 'green';
        }
        var oBtn = document.getElementById("btn1");
        var i = 7;
        oBtn.onclick = function () {
            var newNode = document.createElement("li");
            newNode.innerHTML = i++ * 1111;
            oUl.appendChild(newNode);
        }
    }
</script>
<style>

</style>
</html>
